import{_ as t,X as e,Y as o,Z as n,$ as a,a0 as c,a1 as p,D as i}from"./framework-dfc585d8.js";const l={},u=n("p",null,"作者：村雨遥",-1),r={href:"https://ez4jam1n.github.io/studio",target:"_blank",rel:"noopener noreferrer"},d=p(`<blockquote><p>吾生也有涯，而知也无涯。</p></blockquote><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言" aria-hidden="true">#</a> 前言</h2><p>此文章用于记录自己在 IDEA 中使用 MySQL 开发过程中所遇到的问题及如何修复。</p><h2 id="bug-及修复" tabindex="-1"><a class="header-anchor" href="#bug-及修复" aria-hidden="true">#</a> Bug 及修复</h2><h3 id="使用正确的用户及密码连接数据库时-但却连不上" tabindex="-1"><a class="header-anchor" href="#使用正确的用户及密码连接数据库时-但却连不上" aria-hidden="true">#</a> 使用正确的用户及密码连接数据库时，但却连不上</h3><ol><li><strong>Bug 重现</strong></li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>java.sql.SQLException: Access denied <span class="token keyword">for</span> user <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;localhost&#39;</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span>
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException<span class="token punctuation">(</span>SQLError.java:129<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>mysql-connector-java-8.0.21.jar:8.0.21<span class="token punctuation">]</span>
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException<span class="token punctuation">(</span>SQLError.java:97<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>mysql-connector-java-8.0.21.jar:8.0.21<span class="token punctuation">]</span>
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException<span class="token punctuation">(</span>SQLExceptionsMapping.java:122<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>mysql-connector-java-8.0.21.jar:8.0.21<span class="token punctuation">]</span>
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO<span class="token punctuation">(</span>ConnectionImpl.java:836<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>mysql-connector-java-8.0.21.jar:8.0.21<span class="token punctuation">]</span>
	at com.mysql.cj.jdbc.ConnectionImpl.<span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>ConnectionImpl.java:456<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>mysql-connector-java-8.0.21.jar:8.0.21<span class="token punctuation">]</span>
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance<span class="token punctuation">(</span>ConnectionImpl.java:246<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>mysql-connector-java-8.0.21.jar:8.0.21<span class="token punctuation">]</span>
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect<span class="token punctuation">(</span>NonRegisteringDriver.java:197<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>mysql-connector-java-8.0.21.jar:8.0.21<span class="token punctuation">]</span>
	at com.zaxxer.hikari.util.DriverDataSource.getConnection<span class="token punctuation">(</span>DriverDataSource.java:138<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>HikariCP-3.4.5.jar:na<span class="token punctuation">]</span>
	at com.zaxxer.hikari.pool.PoolBase.newConnection<span class="token punctuation">(</span>PoolBase.java:358<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>HikariCP-3.4.5.jar:na<span class="token punctuation">]</span>
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry<span class="token punctuation">(</span>PoolBase.java:206<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>HikariCP-3.4.5.jar:na<span class="token punctuation">]</span>
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry<span class="token punctuation">(</span>HikariPool.java:477<span class="token punctuation">)</span> <span class="token punctuation">[</span>HikariCP-3.4.5.jar:na<span class="token punctuation">]</span>
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast<span class="token punctuation">(</span>HikariPool.java:560<span class="token punctuation">)</span> <span class="token punctuation">[</span>HikariCP-3.4.5.jar:na<span class="token punctuation">]</span>
	at com.zaxxer.hikari.pool.HikariPool.<span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>HikariPool.java:115<span class="token punctuation">)</span> <span class="token punctuation">[</span>HikariCP-3.4.5.jar:na<span class="token punctuation">]</span>
	at com.zaxxer.hikari.HikariDataSource.getConnection<span class="token punctuation">(</span>HikariDataSource.java:112<span class="token punctuation">)</span> <span class="token punctuation">[</span>HikariCP-3.4.5.jar:na<span class="token punctuation">]</span>
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection<span class="token punctuation">(</span>DataSourceUtils.java:158<span class="token punctuation">)</span> <span class="token punctuation">[</span>spring-jdbc-5.2.8.RELEASE.jar:5.2.8.RELEASE<span class="token punctuation">]</span>
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection<span class="token punctuation">(</span>DataSourceUtils.java:116<span class="token punctuation">)</span> <span class="token punctuation">[</span>spring-jdbc-5.2.8.RELEASE.jar:5.2.8.RELEASE<span class="token punctuation">]</span>
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection<span class="token punctuation">(</span>DataSourceUtils.java:79<span class="token punctuation">)</span> <span class="token punctuation">[</span>spring-jdbc-5.2.8.RELEASE.jar:5.2.8.RELEASE<span class="token punctuation">]</span>
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection<span class="token punctuation">(</span>SpringManagedTransaction.java:80<span class="token punctuation">)</span> <span class="token punctuation">[</span>mybatis-spring-2.0.4.jar:2.0.4<span class="token punctuation">]</span>
	……
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><strong>原因</strong></li></ol><p>最后发现是因为我的密码是以 <code>0</code> 开头的数字组合，所以会导致连接失败；</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/mp<span class="token punctuation">?</span>useSSL=false<span class="token important">&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">0123456</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><strong>解决方案</strong></li></ol><p>将密码用 <code>“”</code> 括起来即可；</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/mp<span class="token punctuation">?</span>useSSL=false<span class="token important">&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token string">&quot;0123456&quot;</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,13);function k(m,v){const s=i("ExternalLinkIcon");return e(),o("div",null,[u,n("p",null,[a("博客："),n("a",r,[a("studio"),c(s)])]),d])}const b=t(l,[["render",k],["__file","20220207-connect-mysql-fail.html.vue"]]);export{b as default};
